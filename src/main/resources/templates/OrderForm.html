<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Pizza Order</title>
    <meta charset="UTF-8">
    <style>
        .error {
            color: red;
        }
    </style>
</head>
<body>

<h1>Order Pizza</h1>

<form th:action="@{/submit}" th:object="${pizzaOrder}" method="post">

    <!-- Customer Name -->
    <div>
        <label>Name:</label>
        <input type="text" th:field="*{custName}">
        <div class="error" th:if="${#fields.hasErrors('custName')}"
             th:errors="*{custName}"></div>
    </div>

    <!-- Quantity -->
    <div>
        <label>Quantity:</label>
        <input type="number" min="1" max="10" th:field="*{quantity}">
        <div class="error" th:if="${#fields.hasErrors('quantity')}"
             th:errors="*{quantity}"></div>
    </div>

    <!-- Pizza Size -->
    <div>
        <label>Size:</label>
        <select th:field="*{size}">
            <option value="">-- Select Size --</option>
            <option th:each="s : ${sizes}"
                    th:value="${s}"
                    th:text="${s}">
            </option>
        </select>
        <div class="error" th:if="${#fields.hasErrors('size')}"
             th:errors="*{size}"></div>
    </div>

    <!-- Crust -->
    <div>
        <label>Crust:</label>
        <select th:field="*{crust}">
            <option value="">-- Select Crust --</option>
            <option th:each="c : ${crusts}"
                    th:value="${c}"
                    th:text="${c}">
            </option>
        </select>
        <div class="error" th:if="${#fields.hasErrors('crust')}"
             th:errors="*{crust}"></div>
    </div>

    <!-- Topping -->
    <div>
        <label>Topping:</label>
        <select th:field="*{topping}">
            <option value="">-- Select Topping --</option>
            <option th:each="t : ${toppings}"
                    th:value="${t}"
                    th:text="${t}">
            </option>
        </select>
        <div class="error" th:if="${#fields.hasErrors('topping')}"
             th:errors="*{topping}"></div>
    </div>

    <!-- Delivery -->
    <div>
        <label>
            <input type="checkbox" th:field="*{doDelivery}">
            Delivery?
        </label>
    </div>

    <!-- Delivery Address -->
    <div>
        <label>Delivery Address:</label>
        <input type="text" th:field="*{deliveryAddress}">
        <div class="error"
             th:if="${#fields.hasErrors('deliveryAddress')}"
             th:errors="*{deliveryAddress}"></div>

        <!-- AssertTrue error -->
        <div class="error"
             th:if="${#fields.hasErrors('deliveryAddressValid')}"
             th:errors="*{deliveryAddressValid}"></div>
    </div>

    <br>

    <button type="submit">Place Order</button>

</form>

</body>
</html>
